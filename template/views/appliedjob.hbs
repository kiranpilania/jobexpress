
<!DOCTYPE html>
<html>

<head>
   <title>Job Details</title>
   <link rel="stylesheet" href="/css/styles.css">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
   <div>
      <div style="background-image: url(/img/images.jpeg); background-repeat: no-repeat; background-size: cover;">
         {{>header}}</div>
      <ul> <br>
         {{#each jsonData}}
         <li style="border: 10px;
            text-align:center; 
            background-color:blanchedalmond; 
            margin-left:300px; 
            margin-right: 300px"> <br>
            <strong>Job ID: {{this.jobid}}</strong> <br> Company Name: {{this.companyname}} <br> Designation: {{this.designation}} <br> Salary: {{this.salary}}
            <br>
            <button onclick="removeJob('{{this.jobid}}')" style="border-radius: 20px; color:red; border-color:red">Remove</button> <hr>
         </li> 
         {{/each}}
      </ul>
   </div>
   <script>
        function removeJob(jobId) {
            fetch(`/removeJob/${jobId}`, {
                method: 'DELETE'
            })
            .then(response => {
                if (response.ok) {
                    window.location.reload(); // Reload the page after successful removal
                } else {
                    console.error('Failed to remove job');
                }
            })
            .catch(error => {
                console.error('Error removing job:', error);
            });
        }
    </script>
   </body>
   </html>
